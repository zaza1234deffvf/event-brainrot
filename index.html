<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Brainrot — Timers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700;900&display=swap');

    body {
      margin:0;
      background-image: url('https://wallpapercrafter.com/sizes/2560x1440/19882-starry-sky-stars-space-night-4k.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      font-family:'Comic Neue', cursive, sans-serif;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding-top:50px;
    }

    .container { display:flex; flex-direction:column; align-items:center; justify-content:center; gap:20px; }
    .top { text-align:center; font-size:72px; font-weight:900; padding:30px 0; color:white; }

    .points {
      font-size:100px;
      font-weight:900;
      letter-spacing:40px;
      line-height:1;
      text-align:center;
      background: linear-gradient(45deg, #ff7eb9, #b07eff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
    }

    .timer-value { font-size:24px; font-weight:800; margin-top:0px; text-align:center; color:white; }

    .autres { 
      font-weight:900; 
      margin-top:10px; 
      letter-spacing:5px; 
      line-height:1; 
      text-align:center; 
      -webkit-text-stroke: 2px white; 
      color: #fff; 
      font-size:100px; 
      transition: all 0.3s ease;
    }

    .pacific {
      font-size:100px;
      font-weight:900;
      margin-top:10px;
      letter-spacing:5px;
      line-height:1;
      text-align:center;
      color: white;
      -webkit-text-stroke: 2px red;
      text-stroke: 2px red;
    }

    .second-timer, .pacific-timer { font-size:24px;font-weight:800; margin-top:10px; text-align:center; color:white; }

    /* Animation glow */
    @keyframes neonGlow {
      0%, 100% { text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 20px currentColor; }
      50% { text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 40px currentColor; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="top">BRAINROT</div>
    <div class="points">???</div>
    <div id="pointsTimer" class="timer-value">—</div>
    <div class="pacific">Pacific</div>
    <div id="pacificTimer" class="pacific-timer">—</div>
    <div id="autresLabel" class="autres">Autres</div>
    <div id="secondTimer" class="second-timer">—</div>
  </div>

  <script>
    const pointsTimes = [
      { hour: 2, minute: 0 },
      { hour: 14, minute: 0 }
    ];
    const pointsDurationMinutes = 20;

    const pacificTimes = [
      { hour: 2, minute: 0 },
      { hour: 6, minute: 0 },
      { hour: 10, minute: 0 },
      { hour: 14, minute: 0 },
      { hour: 18, minute: 0 },
      { hour: 22, minute: 0 }
    ];
    const pacificDurationMinutes = 20;

    const autresEvents = [
      { hour: 1, minute: 30, name: "Tokyo" },
      { hour: 19, minute: 30, name: "Underwater" },
      { hour: 21, minute: 30, name: "Darkness" }
    ];
    const autresDurationMinutes = 20;

    function formatRemaining(ms) {
      if (ms <= 0) return '0s';
      const total = Math.floor(ms / 1000);
      const h = Math.floor(total / 3600);
      const m = Math.floor((total % 3600) / 60);
      const s = total % 60;
      if (h > 0) return `${h}h ${m}m ${s}s`;
      if (m > 0) return `${m}m ${s}s`;
      return `${s}s`;
    }

    function getNextDailyEvent(eventsArray, durationMinutes) {
      const now = new Date();
      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      let candidate = null;
      const durationMs = durationMinutes * 60 * 1000;
      let candidateName = "";

      for (const ev of eventsArray) {
        const d = new Date(today.getTime());
        d.setHours(ev.hour, ev.minute, 0, 0);

        if (d.getTime() > now.getTime()) {
          if (!candidate || d.getTime() < candidate.getTime()) {
            candidate = d;
            candidateName = ev.name || "";
          }
        } else if (d.getTime() <= now.getTime() && now.getTime() < d.getTime() + durationMs) {
          return { time: d, durationMs, name: ev.name };
        }
      }

      if (!candidate) {
        const first = eventsArray[0];
        const d = new Date(today.getTime());
        d.setDate(d.getDate() + 1);
        d.setHours(first.hour, first.minute, 0, 0);
        candidate = d;
        candidateName = first.name;
      }

      return { time: candidate, durationMs, name: candidateName };
    }

    function updateUI() {
      const now = new Date();
      const nowMs = now.getTime();

      // Points
      const nextPoints = getNextDailyEvent(pointsTimes, pointsDurationMinutes);
      const pointsTimerEl = document.getElementById('pointsTimer');
      const pointsStartMs = nextPoints.time.getTime();
      const pointsEndMs = pointsStartMs + nextPoints.durationMs;
      pointsTimerEl.textContent = (nowMs >= pointsStartMs && nowMs < pointsEndMs) 
        ? `LIVE — ${formatRemaining(pointsEndMs - nowMs)}` 
        : `Dans: ${formatRemaining(pointsStartMs - nowMs)}`;

      // Autres
      const autresTimerEl = document.getElementById('secondTimer');
      const autresLabelEl = document.getElementById('autresLabel');
      const nextAutres = getNextDailyEvent(autresEvents, autresDurationMinutes);
      const autresStartMs = nextAutres.time.getTime();
      const autresEndMs = autresStartMs + nextAutres.durationMs;

      // Couleur, contour, taille et glow selon nom et LIVE
      let isLive = nowMs >= autresStartMs && nowMs < autresEndMs;
      switch(nextAutres.name) {
        case "Underwater":
          autresLabelEl.style.color = "#a0d8ff";
          autresLabelEl.style.webkitTextStroke = "2px white";
          autresLabelEl.style.fontSize = "70px";
          break;
        case "Darkness":
          autresLabelEl.style.color = "#ff0000";
          autresLabelEl.style.webkitTextStroke = "2px black";
          autresLabelEl.style.fontSize = "70px";
          break;
        case "Tokyo":
          autresLabelEl.style.color = "#d300ff";
          autresLabelEl.style.webkitTextStroke = "2px white";
          autresLabelEl.style.fontSize = "70px";
          break;
        default:
          autresLabelEl.style.color = "red";
          autresLabelEl.style.webkitTextStroke = "2px white";
          autresLabelEl.style.fontSize = "100px";
      }

      // Glow en LIVE
      if(isLive){
        autresLabelEl.style.animation = "neonGlow 1s infinite alternate";
      } else {
        autresLabelEl.style.animation = "none";
        autresLabelEl.style.textShadow = "none";
      }

      autresLabelEl.textContent = nextAutres.name;
      autresTimerEl.textContent = isLive 
        ? `LIVE — ${formatRemaining(autresEndMs - nowMs)}` 
        : `Dans: ${formatRemaining(autresStartMs - nowMs)}`;

      // Pacific
      const pacificTimerEl = document.getElementById('pacificTimer');
      const nextPac = getNextDailyEvent(pacificTimes, pacificDurationMinutes);
      const pacStartMs = nextPac.time.getTime();
      const pacEndMs = pacStartMs + nextPac.durationMs;
      pacificTimerEl.textContent = (nowMs >= pacStartMs && nowMs < pacEndMs) 
        ? `LIVE — ${formatRemaining(pacEndMs - nowMs)}` 
        : `Dans: ${formatRemaining(pacStartMs - nowMs)}`;
    }

    updateUI();
    setInterval(updateUI, 1000);
  </script>
</body>
</html>
